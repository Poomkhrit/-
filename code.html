<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title> Dress-up Game </title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        .game-container, .main-menu {
            text-align: center;
            width: 100%;
        }

        .main-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        .main-menu img {
            width: 500px;
            height: auto;
        }

        .main-menu button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 20px;
            cursor: pointer;
            background-color: #6200ea;
            color: #ffffff;
            border: none;
            border-radius: 5px;
        }

        .main-menu button:hover {
            background-color: #3700b3;
        }

        .game-container {
            display: none;
        }

        .base-container {
            position: relative;
            width: 500px;
            height: 700px;
            margin: 20px auto 0 auto;
        }

        .base-container img {
            width: 500px;
            height: auto;
            position: absolute;
            left: 0;
            right: 0;
            margin: auto;
        }

        /* Base image */
        #base-image {
            z-index: 2;
        }

        /* Backpack */
        .backpack {
            z-index: 1;
        }

        /* Shoes */
        .shoes {
            z-index: 3;
        }

        /* Suit */
        .suit {
            z-index: 4;
        }

        /* Bag */
        .bag {
            z-index: 5;
        }

        /* Cap */
        .cap {
            z-index: 6;
        }

        /* Scarf */
        .scarf {
            z-index: 7;
        }

        .category {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .section {
            display: flex;
            flex-direction: row;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            width: 100%;
        }

        h3 {
            margin-bottom: 10px;
            text-align: center;
        }

        .category img {
            width: 50px;
            height: auto;
            margin: auto;
            cursor: pointer;
            border: 0.5px solid transparent;
            border-radius: 2px;
            object-fit: cover;
        }

        .category img:hover {
            border-color: #3700b3;
        }
    </style>
</head>
<body>
    <div class="main-menu">
        <img src="Mainmenu.png" alt="Main Menu Image">
        <button onclick="enterGame()">Play</button>
    </div>

    <div class="game-container">
        <div class="base-container">
            <!-- Base character image -->
            <img id="base-image" src="Base.png" alt="Base Image">

            <!-- Backpack images -->
            <img id="backpack-left1" class="backpack" src="BackpackL.PNG" alt="Left Backpack" style="visibility: hidden;">
            <img id="backpack-left2" class="backpack" src="BackpackL2.PNG" alt="Left Backpack" style="visibility: hidden;">
            
            <!-- Shoes -->
            <img id="shoes-left" class="shoes" src="ShoesL.PNG" alt="Left Shoes" style="visibility: hidden;">
            <img id="shoes-right" class="shoes" src="ShoesR.PNG" alt="Right Shoes" style="visibility: hidden;">

            <!-- Suit -->
            <img id="suit-right" class="suit" src="SuitR.PNG" alt="Right Suit" style="visibility: hidden;">

            <!-- Bag -->
            <img id="bag-left" class="bag" src="BagL2.PNG" alt="Left Bag" style="visibility: hidden;">
            <img id="bag-right" class="bag" src="BagR.PNG" alt="Right Bag" style="visibility: hidden;">

            <!-- Cap -->
            <img id="cap-left" class="cap" src="CapL2.PNG" alt="Left Cap" style="visibility: hidden;">
            <img id="cap-right" class="cap" src="CapR.PNG" alt="Right Cap" style="visibility: hidden;">

            <!-- Scarf -->
            <img id="scarf-left" class="scarf" src="ScarfL.PNG" alt="Left Scarf" style="visibility: hidden;">
            <img id="scarf-left2" class="scarf" src="ScarfL2.PNG" alt="Left Scarf" style="visibility: hidden;">
        </div>

        <div class="controls">
            <div class="category">
                <h3>Backpacks</h3>
                <div class="section">
                    <img src="BackpackL.PNG" alt="Left Backpack Button" onclick="toggleItem('backpack-left1', 'backpack-left')">
                    <img src="BackpackL2.PNG" alt="Left Backpack Button" onclick="toggleItem('backpack-left2', 'backpack-left')">
                </div>
            </div>

            <div class="category">
                <h3>Shoes</h3>
                <div class="section">
                    <img src="ShoesL.PNG" alt="Left Shoes Button" onclick="toggleItem('shoes-left', 'shoes-left')">
                    <img src="ShoesR.PNG" alt="Right Shoes Button" onclick="toggleItem('shoes-right', 'shoes-right')">
                </div>
            </div>

            <div class="category">
                <h3>Suits</h3>
                <div class="section">
                    <img src="SuitR.PNG" alt="Right Suit Button" onclick="toggleItem('suit-right', 'suit-right')">
                </div>
            </div>

            <div class="category">
                <h3>Bags</h3>
                <div class="section">
                    <img src="BagL2.PNG" alt="Left Bag Button" onclick="toggleItem('bag-left', 'bag-left')">
                    <img src="BagR.PNG" alt="Right Bag Button" onclick="toggleItem('bag-right', 'bag-right')">
                </div>
            </div>

            <div class="category">
                <h3>Caps</h3>
                <div class="section">
                    <img src="CapL2.PNG" alt="Left Cap Button" onclick="toggleItem('cap-left', 'cap-left')">
                    <img src="CapR.PNG" alt="Right Cap Button" onclick="toggleItem('cap-right', 'cap-right')">
                </div>
            </div>

            <div class="category">
                <h3>Scarves</h3>
                <div class="section">
                    <img src="ScarfL.PNG" alt="Left Scarf Button" onclick="toggleItem('scarf-left', 'scarf-left')">
                    <img src="ScarfL2.PNG" alt="Right Scarf Button" onclick="toggleItem('scarf-left2', 'scarf-left')">
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to start the game
        function enterGame() {
            document.querySelector('.main-menu').style.display = 'none';
            document.querySelector('.game-container').style.display = 'block';
        }

        // Helper function to hide all items in a given category, distinguished by L/R and their numbers
        function hideItemsByCategory(categoryClass) {
            const items = document.querySelectorAll(`[id^="${categoryClass}"]`);
            items.forEach(item => {
                item.style.visibility = 'hidden';
            });
        }

        // Helper function to toggle visibility of a specific item, while ensuring no items in the same category stack
        function toggleItem(itemId, categoryClass) {
            const item = document.getElementById(itemId);
            if (item.style.visibility === 'hidden' || item.style.visibility === '') {
                hideItemsByCategory(categoryClass); // Hide other items in the same category
                item.style.visibility = 'visible'; // Show the selected item
            } else {
                item.style.visibility = 'hidden'; // Hide the item when clicked again
            }
        }
    </script>
</body>
</html>